# Tarpaulin configuration for code coverage
# Excludes files that require integration tests or external dependencies

[default]
# Run only library tests
lib = true

# Timeout for test execution
timeout = "300s"

# Skip clean build for faster iteration
skip-clean = true

# Exclude files that are hard to unit test:
# - CLI commands that run the full engine
# - GitHub API dependent code
# - Display/output functions
exclude-files = [
    # Entry point - just CLI parsing
    "src/main.rs",

    # CLI commands that run the full rules engine
    "src/cli/commands/plan.rs",
    "src/cli/commands/report.rs",
    "src/cli/commands/apply.rs",
    "src/cli/commands/install_hooks.rs",

    # GitHub API dependent actions
    "src/actions/branch_protection.rs",
    "src/actions/github_settings.rs",
    "src/actions/git.rs",

    # Provider code that requires real API calls
    "src/providers/github.rs",
]
